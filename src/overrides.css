/* =========================================================
   OVERRIDES
   (segura compat durante a migração sem quebrar markup Tailwind)
   ========================================================= */

/* 1) Evita scroll lateral por qualquer overflow (segurança) */
html, body{
  overflow-x: hidden;
}

/* 2) Altura base */
html, body{
  height: 100%;
}

/* 3) Esconde scrollbar visual (se usa .scrollbar-none) */
.scrollbar-none::-webkit-scrollbar{
  display: none;
}
.scrollbar-none{
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* 4) Dropdown animation (usado no header) */
#projectsDropdown{
  transform-origin: top center;
}

#projectsDropdown:not(.hidden){
  animation: dropdownIn .14s ease-out both;
}

@keyframes dropdownIn{
  from{
    opacity: 0;
    transform: translate(-50%, -6px) scale(.98);
  }
  to{
    opacity: 1;
    transform: translate(-50%, 0) scale(1);
  }
}

/* 5) Reveal helpers  */
.reveal.is-in{
  will-change: transform, opacity, filter;
}

/* 6) Ajustes pontuais do layout (seções) */
#contact{
  scroll-margin-top: 120px;
}

/* 7) Ícones SVG: garante que herdem cor quando usados com "fill: currentColor" */
svg{
  fill: currentColor;
}

/* 8) Tailwind “fix” (caso algum build/merge traga resets duplicados) */
img, svg, video, canvas, audio, iframe, embed, object{
  vertical-align: middle;
}

/* 9) Se existir qualquer coisa "antiga" que ainda dependa disso, mantém */
.pointer-events-none{
  pointer-events: none;
}

/* 10) Prefers-reduced-motion (fallback geral) */
@media (prefers-reduced-motion: reduce){
  *{
    scroll-behavior: auto !important;
  }
}


/* =========================
   LIGHT: overrides cirúrgicos (SEM matar o Tailwind)
   ========================= */

/* 1) Header: deixe o container herdar a cor do tema no light */
html:not(.dark) header {
  color: rgba(17,24,39,.92);
}

/* 2) Só o NOME do header (sua classe .header_name) */
html:not(.dark) header .header_name{
  color: rgba(17,24,39,.92) !important;
}


/* 4) Hero: se quer o NOME/heading do hero escuro no light,
   mire em um seletor que não seja "tudo que é text-white" */
html:not(.dark) #home .hero-title,
html:not(.dark) #home .hero-subtitle{
  color: rgba(17,24,39,.92) !important;
}

/* Se NÃO tem classes hero-titl e/hero-subtitle, use um alvo mais seguro:
   exemplo: apenas headings dentro do bloco do hero (evita pegar botão) */
html:not(.dark) #home h1,
html:not(.dark) #home h2{
  color: rgba(17,24,39,.92);
}

/* 5) CTA que precisa continuar branco no light (ex.: botão roxo) */
html:not(.dark) #home .home_hire{
  color: #fff !important;
}

/* =========================================================
   MOBILE SNAP: snap só para troca de seção
   - entra na seção com snap
   - dentro da seção vira scroll normal
   - mobile até 1048px
   ========================================================= */

@media (max-width: 1048px){

  /* 1) tira o "grude" do mandatory (é isso que puxa de volta) */
  main.snap-y.snap-mandatory{
    scroll-snap-type: y proximity !important;
  }

  /* 2) por padrão, nenhuma section faz snap no mobile */
  main.snap-y > section{
    scroll-snap-align: none !important;
    scroll-snap-stop: normal !important;
  }

  /* 3) só as seções que você quer como “página” (troca com snap) */
  #home,
  #skills,
  #experience,
  #design-projects,
  #dev-projects,
  #contact{
    scroll-snap-align: start !important;
  }

  /* 4) projetos continuam com cara de “tela” */
  #design-projects,
  #dev-projects{
    height: 100svh !important; /* respeita barra do navegador */
  }

  /* 5) seções longas: podem passar do 100vh sem ficar puxando */
  #home,
  #experience,
  #contact{
    min-height: 100svh !important;
    height: auto !important;
  }

  /* 6) evita “chain scroll” que faz pular fácil entre seções */
  main{
    overscroll-behavior-y: none;
  }
}
